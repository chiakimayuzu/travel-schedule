{% extends "base.html" %}

{% block content %}
  <h1>ğŸ’¬{{ review.user.username }} ã•ã‚“ã®ã‚¯ãƒã‚³ãƒŸè©³ç´°</h1>

  <div>
    <h2>{{ review.tourist_spot.spot_name }}</h2>
    {% if review.tourist_spot.picture %}
      <img src="{{ review.tourist_spot.picture.url }}" alt="{{ review.tourist_spot.spot_name }}" style="width: 300px; height: 200px; object-fit: cover;">
    {% else %}
      <img src="/static/images/no-image.png" alt="No Image" style="width: 300px; height: 200px; object-fit: cover;">
    {% endif %}
    <p>{{ review.review_title }}</p>
    <p>{{ review.review_description }}</p>
    <p>
      è©•ä¾¡ã‚¹ã‚³ã‚¢:
<!-- å¡—ã‚Šã¤ã¶ã—æ˜Ÿ -->
{% for star in filled_stars %}
  <span class="star filled">&#9733;</span>
{% endfor %}

<!-- åŠåˆ†å¡—ã‚Šã¤ã¶ã—æ˜Ÿ -->
{% if half_star %}
  <span class="star half">&#9733;</span>
{% endif %}

<!-- ç©ºã®æ˜Ÿ -->
{% for star in empty_stars %}
  <span class="star empty">&#9734;</span>
{% endfor %}
    </p>



    <p>è²»ç”¨: {{ review.get_review_price_display }}</p>
    <p>æ»åœ¨æ™‚é–“: {{ review.stay_time_hours }}æ™‚é–“ {{ review.stay_time_minutes }}åˆ†</p>
    <p>æŠ•ç¨¿æ—¥: {{ review.created_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}</p>
    <p>æ›´æ–°æ—¥: {{ review.updated_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}</p>
  </div>
  <a href="{% url 'travelapp:edit_my_review' pk=review.id %}">ç·¨é›†</a>
  
  <form method="post">
    {% csrf_token %}
    <button type="submit" name="delete" value="1">ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å‰Šé™¤</button>
  </form>


  <a href="{% url 'travelapp:my_review_list' %}">ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸€è¦§ã«æˆ»ã‚‹</a>

<!-- â­ CSS for styling -->
<style>
  /* æ˜Ÿã®ã‚³ãƒ³ãƒ†ãƒŠ */
  .rating-stars {
    display: flex;
    gap: 4px;
  }
  
  /* æ˜Ÿã®å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
  .star {
    font-size: 30px;
    color: #ccc; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ç©ºã®æ˜Ÿã‚’ã‚°ãƒ¬ãƒ¼ */
    position: relative;
    display: inline-block;
  }
  
  /* å¡—ã‚Šã¤ã¶ã—ã®æ˜Ÿ */
  .star.filled {
    color: gold; /* å®Œå…¨ã«å¡—ã‚Šã¤ã¶ã— */
  }
  
  /* åŠåˆ†å¡—ã‚Šã¤ã¶ã—ã®æ˜Ÿ */
  .star.half {
    position: relative;
  }
  
  /* åŠåˆ†å¡—ã‚Šã¤ã¶ã—ã®æ˜Ÿ - èƒŒæ™¯ã‚’ã‚°ãƒ¬ãƒ¼ã« */
  .star.half::before {
    content: 'â˜…'; /* æ˜Ÿã®å½¢ */
    position: absolute;
    left: 0;
    width: 50%;
    overflow: hidden;
    color: gold; /* å·¦åŠåˆ†ã‚’ã‚´ãƒ¼ãƒ«ãƒ‰ */
  }
  
  /* å®Œå…¨ãªç©ºã®æ˜Ÿã‚‚èƒŒæ™¯ã‚’ã‚°ãƒ¬ãƒ¼ã«ã™ã‚‹ */
  .star.empty {
    color: #ccc; /* ã‚°ãƒ¬ãƒ¼ã«è¨­å®š */
    position: relative;
  }
  
  /* ç©ºã®æ˜Ÿã‚’ã‚°ãƒ¬ãƒ¼èƒŒæ™¯ã« */
  .star.empty::before {
    content: 'â˜…'; /* æ˜Ÿã®å½¢ */
    position: absolute;
    left: 0;
    color: #ccc; /* å…¨ä½“ã‚’ã‚°ãƒ¬ãƒ¼ã«å¡—ã‚Šã¤ã¶ã™ */
  }  
</style>


{% endblock %}