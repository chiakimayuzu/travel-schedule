{% extends "base.html" %}

{% block content %}
<h1>ğŸ’¬{{ request.user.username }}ã•ã‚“ã®ã‚¯ãƒã‚³ãƒŸä¸€è¦§</h1>

{% if reviews %}
  <ul class="review-list">
    {% for review in reviews %}
      <li class="review-item">
        <!-- ç”»åƒã‚¯ãƒªãƒƒã‚¯ã§è¦³å…‰æ–½è¨­ã®è©³ç´°ãƒšãƒ¼ã‚¸ã«é·ç§» -->
        <a href="{% url 'travelapp:detail_touristspot' pk=review.tourist_spot.id %}">
          {% if review.tourist_spot.picture %}
            <img src="{{ review.tourist_spot.picture.url }}" alt="{{ review.tourist_spot.spot_name }}" class="review-image">
          {% else %}
            <img src="/static/images/no-image.png" alt="No Image" class="review-image">
          {% endif %}
        </a>

        <p>{{ review.tourist_spot.spot_name }}</p>
        

        <div class="review-info">
          <!-- ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¿ã‚¤ãƒˆãƒ«ã‚¯ãƒªãƒƒã‚¯ã§my_review_detailã¸é·ç§» -->
          <p>ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¿ã‚¤ãƒˆãƒ«ï¼š
          <a href="{% url 'travelapp:my_review_detail' review_id=review.id %}">{{ review.review_title }}</a></p>

          <p>æ›´æ–°æ—¥: {{ review.updated_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}</p>
          <a href="{% url 'travelapp:edit_my_review' pk=review.id %}">ç·¨é›†</a>
          <!-- å‰Šé™¤ãƒœã‚¿ãƒ³ -->
          <form method="post" style="display:inline;">
            {% csrf_token %}
            <button type="submit" name="delete" value="{{ review.id }}">å‰Šé™¤</button>
          </form>
        </div>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>ã¾ã ã‚¯ãƒã‚³ãƒŸãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
{% endif %}
{% endblock %}



<style>
  .review-list {
    display: flex;
    flex-wrap: wrap;
    gap: 20px; /* ã‚¢ã‚¤ãƒ†ãƒ é–“ã®é–“éš” */
    list-style-type: none;
    padding: 0;
  }

  .review-item {
    width: calc(33.33% - 20px); /* 3åˆ—è¡¨ç¤ºã«ã™ã‚‹ */
    box-sizing: border-box;
  }

  .review-image {
    width: 25%; /* ç”»åƒã®å¹…ã‚’è¦ªè¦ç´ ã®25%ã«è¨­å®š */
    height: auto; /* é«˜ã•ã¯è‡ªå‹•èª¿æ•´ */
    object-fit: cover; /* ç”»åƒã®åˆ‡ã‚ŠæŠœãæ–¹ã‚’æŒ‡å®š */
  }

  .review-info {
    margin-top: 10px;
  }

  /* ã‚¹ãƒãƒ›ã‚„å°ã•ã„ç”»é¢ç”¨ã«ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–èª¿æ•´ */
  @media (max-width: 768px) {
    .review-item {
      width: calc(50% - 20px); /* 2åˆ—è¡¨ç¤º */
    }
  }

  @media (max-width: 480px) {
    .review-item {
      width: 100%; /* 1åˆ—è¡¨ç¤º */
    }
  }
</style>
